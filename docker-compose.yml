services:
  cowrie:
    image: cowrie/cowrie
    restart: unless-stopped
    ports:
      - "22:2222"         # ssh
      - "23:2223"         # telnet
    environment:
      - COWRIE_TELNET_ENABLED=yes
    volumes:
      - ppv-cowrie-etc:/cowrie/cowrie-git/etc
      - ppv-cowrie-var:/cowrie/cowrie-git/var

  conpot:
    build: ./src/conpot
    ports:
      - "80:8800"         # SCADA UI, http
      - "102:10201"       # S7Comm
      - "502:5020"        # Modbus
      - "161:16100/udp"   # SNMP
      - "47808:47808/udp" # Bacnet
      - "623:6230/udp"    # IPMI
      - "21:2121"         # FTP
      - "69:6969/udp"     # TFTP
      - "44818:44818"     # EN/IP
    restart: unless-stopped
    volumes:
      - ppv-conpot-var:/var/log

  heralding:
    build: ./src/heralding
    ports:
      - 25:25
      - 110:110
      - 143:143
      - 443:443 
      - 465:465
      - 993:993
      - 995:995
      - 1080:1080
      - 2222:2222
      - 3306:3306
      - 3389:3389
      - 5432:5432
      - 5900:5900
    restart: unless-stopped
    volumes:
      - ppv-heralding-var:/var/log

#  honeyaml:
#    image: mmta/honeyaml
#    #build: ./src/honeyaml/docker
#    ports:
#      - 8080:8080
#    restart: unless-stopped
#    volumes:
#      - ppv-honeyaml-var:/honeyaml/logs

  #ciscoasa_honeypot:
  #  build: src/ciscoasa_honeypot
  #  ports:
  #    - 8443:8443
  #    - 500:5000/udp
  #    - 5000:5000/udp
  #  restart: unless-stopped
  #  volumes:
  #    - ppv-ciscoasa_honeypot-var:/var/log

  #ddospot:
  #    build:
  #        context: src/ddospot-master
  #    image: aelth/simpledns
  #    ports:
  #        - target: 19
  #          published: 19 
  #          protocol: udp
  #          mode: host
  #        - target: 53
  #          published: 54
  #          protocol: udp
  #          mode: host
  #        - target: 123
  #          published: 123
  #          protocol: udp
  #          mode: host
  #        - target: 161
  #          published: 161
  #          protocol: udp
  #          mode: host
  #        - target: 1900
  #          published: 1901
  #          protocol: udp
  #          mode: host
  #    restart: unless-stopped
  #    volumes:
  #        - ppv-ddospot-bl:/ddospot/bl
  #        - ppv-ddospot-db:/ddospot/db
  #        - ppv-ddospot-logs:/ddospot/logs
  #    networks:
  #        ddospot:
  #            ipv4_address: 172.18.0.2

#networks:
#    ddospot:
#        name: 'ddospot-net'
#        driver: "bridge"
#        ipam:
#            config:
#                - subnet: 172.18.0.1/24

volumes:
  ppv-cowrie-etc:
  ppv-cowrie-var:
  ppv-conpot-var:
  ppv-heralding-var:

#  ppv-honeyaml-var:
#  ppv-ddospot-bl:
#  ppv-ddospot-db:
#  ppv-ddospot-logs:
